<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!-- autogenerated by 'erl2html2'. -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
<title>/home/erszcz/work/learning/erlang-port-scanner/test/mad_SUITE.erl</title>
</head>

<body bgcolor="white" text="black" link="blue" vlink="purple" alink="red">
<pre>
<a name="1"/>    1: <b>-module</b>(mad_SUITE).
<a name="2"/>    2: <b>-compile</b>([export_all]).
<a name="3"/>    3: 
<a name="4"/>    4: <b>-include_lib</b>(&quot;common_test/include/ct.hrl&quot;).
<a name="5"/>    5: <b>-include_lib</b>(&quot;eunit/include/eunit.hrl&quot;).
<a name="6"/>    6: 
<a name="7"/>    7: <b>-define</b>(eq(E, A), ?assertEqual(E, A)).
<a name="8"/>    8: 
<a name="all-0"/><a name="9"/>    9: <b>all</b>() -&gt;
<a name="10"/>   10:     [sanity_check,
<a name="11"/>   11:      generate_subnet_addrs,
<a name="12"/>   12:      parse_addr_or_subnet].
<a name="13"/>   13: 
<a name="14"/>   14: <i>%%</i>
<a name="15"/>   15: <i>%% Tests</i>
<a name="16"/>   16: <i>%%</i>
<a name="17"/>   17: 
<a name="sanity_check-1"/><a name="18"/>   18: <b>sanity_check</b>(_) -&gt;
<a name="19"/>   19:     ok.
<a name="20"/>   20: 
<a name="generate_subnet_addrs-1"/><a name="21"/>   21: <b>generate_subnet_addrs</b>(_) -&gt;
<a name="22"/>   22:     M = mad,
<a name="23"/>   23:     Addrs = M:generate_subnet_addrs({192,168,100,0}, 22),
<a name="24"/>   24:     ?eq([{192,168,100,0}, {192,168,100,1}, {192,168,100,2}],
<a name="25"/>   25:         [ lists:nth(I, Addrs) || I &lt;- lists:seq(1,3) ]),
<a name="26"/>   26:     ?eq([{192,168,103,253}, {192,168,103,254}, {192,168,103,255}],
<a name="27"/>   27:         lists:nthtail(1024 - 3, Addrs)).
<a name="28"/>   28: 
<a name="parse_addr_or_subnet-1"/><a name="29"/>   29: <b>parse_addr_or_subnet</b>(_) -&gt;
<a name="30"/>   30:     M = mad,
<a name="31"/>   31:     ?eq([{192,168,100,254}, {192,168,100,255}],
<a name="32"/>   32:         M:parse_addr_or_subnet(&quot;192.168.100.254/31&quot;)),
<a name="33"/>   33:     ?eq([{192,168,100,252}, {192,168,100,253}],
<a name="34"/>   34:         M:parse_addr_or_subnet(&quot;192.168.100.252/31&quot;)),
<a name="35"/>   35:     ?eq([{192,168,100,254}],
<a name="36"/>   36:         M:parse_addr_or_subnet(&quot;192.168.100.254&quot;)).
</pre>
</body>
</html>
